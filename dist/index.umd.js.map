{"version":3,"file":"index.umd.js","sources":["../src/Toast/style.ts","../src/Toast/index.tsx","../src/Toast/ToastContext.tsx"],"sourcesContent":["// @ts-ignore\nimport { StyleSheet, Platform } from 'react-native';\n\nconst style = StyleSheet.create({\n  toastWrapper: {\n    position: 'absolute',\n    flexDirection: 'row',\n    alignItems: 'center',\n    alignSelf: 'center',\n    padding: 12,\n    textAlign: 'center',\n    zIndex: 100000000000,\n    backgroundColor: 'rgba(0, 0, 0, 0.75)',\n    borderRadius: 6,\n    ...Platform.select({\n      ios: {\n        shadowColor: '#000000',\n        shadowOpacity: 3 * 0.08,\n        shadowRadius: 12,\n        shadowOffset: {\n          width: 0,\n          height: 6,\n        },\n        overflow: 'visible',\n      },\n      android: {\n        elevation: 2,\n      },\n    }),\n  },\n  toastMessage: {\n    color: '#ffffff',\n    fontWeight: '600',\n  },\n  animation: {\n    width: 40,\n    height: 40,\n  },\n  successImage: {\n    width: 25,\n    height: 25,\n    marginRight: 8,\n  },\n});\n\nexport default style;\n","/**\n *\n * Toast\n *\n */\nimport React, {\n  useEffect,\n  useRef,\n  forwardRef,\n  useImperativeHandle,\n  useReducer,\n  useCallback,\n  useMemo,\n} from 'react';\n// @ts-ignore\nimport { Animated, Text, Image, View } from 'react-native';\nimport style from './style';\nimport { ToastProps, IToastShow } from '../types';\n\nconst Toast: React.FC<ToastProps> = forwardRef((props, ref) => {\n  const initialState = useMemo(\n    () =>\n      ({\n        showToast: false,\n        delay: props.defaultTheme?.delay || 1000,\n        message: props.defaultTheme?.message || 'This is toast message',\n        bottomOffset: props.defaultTheme?.bottomOffset || 32,\n        topOffset: props.defaultTheme?.topOffset || 32,\n        position: props.defaultTheme?.position || 'bottom',\n        backgroundColor:\n          props.defaultTheme?.backgroundColor || 'rgba(0, 0, 0, 0.75)',\n        textColor: props.defaultTheme?.textColor || '#ffffff',\n        type: props.defaultTheme?.type || undefined,\n        icon: props.defaultTheme?.icon || undefined,\n      } as IToastShow),\n    [props.defaultTheme],\n  );\n\n  const stateReducer = useCallback(\n    (state: IToastShow, action: any): IToastShow => {\n      switch (action.type) {\n        case 'SHOW_TOAST':\n          return {\n            ...state,\n            showToast: action.payload,\n          };\n        case 'UPDATE_ALL':\n          return {\n            ...state,\n            message: action.payload.message,\n            delay: action.payload.delay\n              ? action.payload.delay\n              : initialState.delay,\n            topOffset: action.payload.topOffset\n              ? action.payload.topOffset\n              : initialState.topOffset,\n            bottomOffset: action.payload.bottomOffset\n              ? action.payload.bottomOffset\n              : initialState.bottomOffset,\n            backgroundColor: action.payload.backgroundColor\n              ? action.payload.backgroundColor\n              : initialState.backgroundColor,\n            textColor: action.payload.textColor\n              ? action.payload.textColor\n              : initialState.textColor,\n            position: action.payload.position\n              ? action.payload.position\n              : initialState.position,\n            type: action.payload.type ? action.payload.type : initialState.type,\n          };\n\n        default:\n          return initialState;\n      }\n    },\n    [initialState],\n  );\n\n  const [state, dispatch] = useReducer(stateReducer, initialState);\n  const animatedValue = useRef(new Animated.Value(0)).current;\n\n  useImperativeHandle(ref, () => ({\n    show({\n      message,\n      delay,\n      bottomOffset,\n      topOffset,\n      position,\n      backgroundColor,\n      textColor,\n      type,\n      icon,\n    }: IToastShow) {\n      if (message) {\n        dispatch({\n          type: 'UPDATE_ALL',\n          payload: {\n            message,\n            delay,\n            bottomOffset,\n            topOffset,\n            position,\n            backgroundColor,\n            textColor,\n            type,\n            icon,\n          },\n        });\n      }\n      dispatch({\n        type: 'SHOW_TOAST',\n        payload: true,\n      });\n    },\n  }));\n\n  useEffect(() => {\n    if (state.showToast) {\n      Animated.sequence([\n        Animated.timing(animatedValue, {\n          toValue: 1,\n          duration: 600,\n          useNativeDriver: true,\n        }),\n        Animated.timing(animatedValue, {\n          toValue: 0,\n          duration: 600,\n          delay: state.delay,\n          useNativeDriver: true,\n        }),\n      ]).start(() =>\n        dispatch({\n          type: 'SHOW_TOAST',\n          payload: false,\n        }),\n      );\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [state.showToast]);\n\n  if (!state.showToast) {\n    return null;\n  }\n\n  return (\n    <Animated.View\n      style={[\n        style.toastWrapper,\n        { opacity: animatedValue },\n        state.position === 'bottom'\n          ? {\n              bottom: 0,\n              transform: [\n                {\n                  translateY: animatedValue.interpolate({\n                    inputRange: [0, 1],\n                    // @ts-ignore\n                    outputRange: [0, -state.bottomOffset],\n                  }),\n                },\n              ],\n            }\n          : null,\n        // state.position === 'top' ? { bottom: state.topOffset } : null,\n        state.position === 'top'\n          ? {\n              transform: [\n                {\n                  translateY: animatedValue.interpolate({\n                    inputRange: [0, 1],\n                    // @ts-ignore\n                    outputRange: [0, state.topOffset],\n                  }),\n                },\n              ],\n            }\n          : null,\n        { backgroundColor: state.backgroundColor },\n      ]}\n    >\n      {state.icon ? (\n        <View style={{ marginRight: 8 }}>{state.icon}</View>\n      ) : state.type === 'success' ? (\n        <Image\n          source={{\n            uri:\n              'https://raw.githubusercontent.com/asaeed14/react-native-toast/main/src/success.png',\n          }}\n          style={style.successImage}\n        />\n      ) : null}\n      <Text style={[style.toastMessage, { color: state.textColor }]}>\n        {state.message}\n      </Text>\n    </Animated.View>\n  );\n});\n\nexport default React.memo(Toast);\n","import React, { useContext, useRef } from 'react';\nimport Toast from './index';\nimport { IToastShow, IToast, ToastContextProps } from '../types';\n\nconst ToastContext = React.createContext({} as IToast);\n\nconst ToastProvider: React.FC<ToastContextProps> = (props) => {\n  const toastRef = useRef(null);\n  const show = ({\n    delay,\n    message,\n    position,\n    bottomOffset,\n    topOffset,\n    backgroundColor,\n    textColor,\n    type,\n    icon,\n  }: IToastShow = {}) => {\n    if (toastRef.current) {\n      // @ts-ignore\n      toastRef.current.show({\n        delay,\n        message,\n        position,\n        bottomOffset,\n        topOffset,\n        backgroundColor,\n        textColor,\n        type,\n        icon,\n      });\n    }\n  };\n  return (\n    <ToastContext.Provider value={{ show }}>\n      {props.children}\n      <Toast ref={toastRef} defaultTheme={props.defaultTheme} />\n    </ToastContext.Provider>\n  );\n};\n\nfunction useToastContext(): IToast {\n  return useContext(ToastContext);\n}\n\nexport { ToastProvider, useToastContext };\n"],"names":["StyleSheet","Platform","forwardRef","useMemo","useCallback","useReducer","useRef","Animated","useImperativeHandle","useEffect","React","View","Image","Text","Toast","useContext"],"mappings":"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"}